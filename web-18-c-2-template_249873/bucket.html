<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <style></style>

  <body>
    <div id="total-div">
      <h3 id="total_amount">
        <!--Show bucket total here, do not add anything only Total value. Not even "Total - 1200Rs" but like this "1200" -->
        0
      </h3>
    </div>
    <div id="bucket">
      <!--Show all coffee added to bucket here-->
      <!-- add an remove button to each coffee so that you can remove that item from bucket, give the button HTML id as 'remove_coffee' -->
    </div>

    <!-- checkout link  -->
    <button id="confirm_checkout"><a href="checkout.html">Chechout</a></button>
  </body>
</html>

<script>

append1();
  function append1() {
  let data = JSON.parse(localStorage.getItem("coffee")) || [];
  let bucket = document.getElementById("bucket");

  bucket.innerHTML = null;

  data.foreach(function (el,index){

    let img = document.createElement('img');
    img.src = el.image;

    let h2 = document.createElement('h2');
    h2.innerText = el.title;

    let p = document.createElement('p');
    p.innerText = el.description;

    let remove_coffee = document.createElement('button')
    remove_coffee.innerText = 'Remove';
    remove_coffee.addEventListener("click", function(){
      remove(index);
    });

    div.append(img, h2, p, remove_coffee);
    bucket.append(div);
  });
}

function remove(index) {
  let data = JSON.parse(localStorage.getItem("coffee")) || [];

  let newData = data.filter(function (el, i){
    if(i===index){
      return i !== index;
    }
  });
  console.log(newData); 
}
</script>
